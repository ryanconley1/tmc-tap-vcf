#@ load("@ytt:data", "data")
#@ profile = data.values.profile
#@ values = getattr(data.values.clusters, profile)
fullName:
  managementClusterName: #@ values.mgmt_cluster
  provisionerName: #@ values.provisioner
  clusterName: #@ values.name
  name: source-controller
  namespaceName: flux-package-install
spec:
  inlineValues:
    namespace: tanzu-source-controller
  packageRef:
    packageMetadataName: fluxcd-source-controller.tanzu.vmware.com
    versionSelection:
      constraints: 0.36.1+vmware.2-tkg.2
  roleBindingScope: CLUSTER
type:
  kind: Install
  package: vmware.tanzu.manage.v1alpha1.cluster.namespace.tanzupackage.install
  version: v1alpha1